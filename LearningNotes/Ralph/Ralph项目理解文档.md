# Ralph for Claude Code - é¡¹ç›®ç†è§£æ–‡æ¡£

> æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š2026-02-21
> é¡¹ç›®ç‰ˆæœ¬ï¼šv0.11.4
> é¡¹ç›®ä»“åº“ï¼šhttps://github.com/frankbria/ralph-claude-code

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯ Ralphï¼Ÿ

Ralph æ˜¯ä¸€ä¸ªä¸º Claude Code è®¾è®¡çš„**è‡ªä¸» AI å¼€å‘å¾ªç¯ç³»ç»Ÿ**ã€‚å®ƒå®ç°äº† Geoffrey Huntley æå‡ºçš„"Ralph æŠ€æœ¯"ï¼Œèƒ½å¤Ÿè®© Claude Code æŒç»­è‡ªä¸»åœ°è¿­ä»£æ”¹è¿›é¡¹ç›®ï¼Œç›´åˆ°å®Œæˆå¼€å‘ä»»åŠ¡ã€‚

### 1.2 æ ¸å¿ƒä»·å€¼

- **è‡ªåŠ¨åŒ–å¼€å‘å¾ªç¯**ï¼šæ— éœ€äººå·¥å¹²é¢„ï¼ŒClaude Code è‡ªåŠ¨è¿­ä»£å¼€å‘
- **æ™ºèƒ½é€€å‡ºæœºåˆ¶**ï¼šé˜²æ­¢æ— é™å¾ªç¯ï¼Œé€šè¿‡å¤šç§æ¡ä»¶åˆ¤æ–­é¡¹ç›®å®ŒæˆçŠ¶æ€
- **é€Ÿç‡ä¿æŠ¤**ï¼šå†…ç½® API è°ƒç”¨é™åˆ¶ï¼Œé˜²æ­¢è¿‡åº¦ä½¿ç”¨
- **å…¨å±€å®‰è£…**ï¼šä¸€æ¬¡å®‰è£…ï¼Œåœ¨ä»»ä½•é¡¹ç›®ä¸­éƒ½å¯ä½¿ç”¨
- **ä¼šè¯è¿ç»­æ€§**ï¼šä¿æŒä¸Šä¸‹æ–‡ï¼Œæé«˜å¼€å‘è¿è´¯æ€§

### 1.3 é¡¹ç›®çŠ¶æ€

- **ç‰ˆæœ¬**ï¼šv0.11.4ï¼ˆæ´»è·ƒå¼€å‘ä¸­ï¼‰
- **æµ‹è¯•è¦†ç›–**ï¼š484 ä¸ªæµ‹è¯•ï¼Œ100% é€šè¿‡ç‡
- **æˆç†Ÿåº¦**ï¼šæ ¸å¿ƒåŠŸèƒ½å®Œå–„ï¼Œé¢„è®¡ 4 å‘¨è¾¾åˆ° v1.0
- **è®¸å¯è¯**ï¼šMIT License

---

## 2. æ ¸å¿ƒæ¦‚å¿µ

### 2.1 Ralph å¾ªç¯ï¼ˆRalph Loopï¼‰

Ralph çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªè‡ªä¸»æ‰§è¡Œå¾ªç¯ï¼š

```
1. è¯»å–æŒ‡ä»¤ (PROMPT.md)
   â†“
2. æ‰§è¡Œ Claude Code
   â†“
3. è·Ÿè¸ªè¿›åº¦ (fix_plan.md)
   â†“
4. è¯„ä¼°å®Œæˆæƒ…å†µ
   â†“
5. å†³ç­–ï¼šç»§ç»­ or é€€å‡º
   â†“
å¦‚æœç»§ç»­ï¼Œè¿”å›æ­¥éª¤ 1
```

### 2.2 æ™ºèƒ½é€€å‡ºæ£€æµ‹

Ralph ä½¿ç”¨**åŒæ¡ä»¶æ£€æŸ¥**æ¥å†³å®šæ˜¯å¦é€€å‡ºå¾ªç¯ï¼š

#### é€€å‡ºæ¡ä»¶ï¼ˆéœ€åŒæ—¶æ»¡è¶³ï¼‰

| æ¡ä»¶ | è¯´æ˜ |
|------|------|
| `completion_indicators >= 2` | ä»è‡ªç„¶è¯­è¨€æ¨¡å¼å¯å‘å¼æ£€æµ‹åˆ°å®Œæˆä¿¡å· |
| `EXIT_SIGNAL: true` | Claude æ˜¾å¼ç¡®è®¤é¡¹ç›®å®Œæˆ |

#### å…¶ä»–é€€å‡ºæ¡ä»¶

- æ‰€æœ‰ `fix_plan.md` ä¸­çš„ä»»åŠ¡éƒ½å·²æ ‡è®°å®Œæˆ
- è¿ç»­å¤šæ¬¡æ”¶åˆ°"done"ä¿¡å·ï¼ˆ`>= 2`æ¬¡ï¼‰
- å¤ªå¤šæµ‹è¯•å¯¼å‘çš„å¾ªç¯ï¼ˆè¡¨æ˜åŠŸèƒ½å·²å®Œæˆï¼‰
- è¾¾åˆ° 5 å°æ—¶ API ä½¿ç”¨é™åˆ¶

#### è¡Œä¸ºç¤ºä¾‹

```bash
# åœºæ™¯ 1ï¼šé˜¶æ®µå®Œæˆä½†è¿˜æœ‰å·¥ä½œ
Loop 5: Claude è¾“å‡º "Phase complete, moving to next feature"
        â†’ completion_indicators: 3 (é«˜ç½®ä¿¡åº¦)
        â†’ EXIT_SIGNAL: false (Claude è¯´è¿˜æœ‰å·¥ä½œ)
        â†’ ç»“æœ: ç»§ç»­å¾ªç¯

# åœºæ™¯ 2ï¼šé¡¹ç›®çœŸæ­£å®Œæˆ
Loop 8: Claude è¾“å‡º "All tasks complete, project ready"
        â†’ completion_indicators: 4
        â†’ EXIT_SIGNAL: true (Claude ç¡®è®¤å®Œæˆ)
        â†’ ç»“æœ: é€€å‡ºå¹¶æ ‡è®°ä¸º "project_complete"
```

### 2.3 é€Ÿç‡é™åˆ¶å’Œæ–­è·¯å™¨

#### é€Ÿç‡é™åˆ¶
- **é»˜è®¤é™åˆ¶**ï¼š100 æ¬¡è°ƒç”¨/å°æ—¶
- **è‡ªåŠ¨é‡ç½®**ï¼šæ¯å°æ—¶é‡ç½®ä¸€æ¬¡
- **å€’è®¡æ—¶æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºå‰©ä½™æ—¶é—´

#### æ–­è·¯å™¨ï¼ˆCircuit Breakerï¼‰

é˜²æ­¢æ— æ•ˆå¾ªç¯çš„æ™ºèƒ½æœºåˆ¶ï¼š

```
çŠ¶æ€ï¼šCLOSED (æ­£å¸¸) â†’ HALF_OPEN (ç›‘æ§) â†’ OPEN (åœæ­¢)
```

**è§¦å‘æ¡ä»¶ï¼š**
- è¿ç»­ 3 ä¸ªå¾ªç¯æ²¡æœ‰æ–‡ä»¶å˜æ›´
- è¿ç»­ 5 ä¸ªå¾ªç¯å‡ºç°ç›¸åŒé”™è¯¯
- è¾“å‡ºä¸‹é™è¶…è¿‡ 70%
- è¿ç»­ 2 æ¬¡æƒé™è¢«æ‹’ç»

**è‡ªåŠ¨æ¢å¤ï¼š**
- é»˜è®¤å†·å´æ—¶é—´ï¼š30 åˆ†é’Ÿ
- `OPEN â†’ HALF_OPEN â†’ CLOSED`

### 2.4 ä¼šè¯ç®¡ç†

Ralph ç»´æŠ¤ä¼šè¯ä¸Šä¸‹æ–‡ä»¥æé«˜å¼€å‘è¿è´¯æ€§ï¼š

- **ä¼šè¯æ–‡ä»¶**ï¼š`.ralph/.ralph_session`
- **ä¼šè¯è¿‡æœŸ**ï¼šé»˜è®¤ 24 å°æ—¶
- **è‡ªåŠ¨é‡ç½®è§¦å‘æ¡ä»¶**ï¼š
  - æ–­è·¯å™¨æ‰“å¼€
  - æ‰‹åŠ¨ä¸­æ–­ï¼ˆCtrl+Cï¼‰
  - é¡¹ç›®å®Œæˆ
  - ä¼šè¯è¿‡æœŸ

---

## 3. å®‰è£…å’Œä½¿ç”¨

### 3.1 ç³»ç»Ÿè¦æ±‚

#### å¿…éœ€ç»„ä»¶
- **Bash 4.0+**ï¼šè„šæœ¬æ‰§è¡Œç¯å¢ƒ
- **Claude Code CLI**ï¼š`npm install -g @anthropic-ai/claude-code`
- **Git**ï¼šç‰ˆæœ¬æ§åˆ¶
- **jq**ï¼šJSON å¤„ç†

#### æ¨èç»„ä»¶
- **tmux**ï¼šç»ˆç«¯å¤ç”¨å™¨ï¼Œç”¨äºé›†æˆç›‘æ§
- **GNU coreutils**ï¼šæä¾› `timeout` å‘½ä»¤
  - Linuxï¼šé¢„è£…
  - macOSï¼š`brew install coreutils`

### 3.2 å®‰è£…æµç¨‹

#### ç¬¬ä¸€é˜¶æ®µï¼šå…¨å±€å®‰è£…ï¼ˆä»…éœ€ä¸€æ¬¡ï¼‰

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/frankbria/ralph-claude-code.git
cd ralph-claude-code

# 2. æ‰§è¡Œå®‰è£…
./install.sh

# 3. éªŒè¯å®‰è£…
which ralph
ralph --help
```

å®‰è£…åï¼Œä»¥ä¸‹å…¨å±€å‘½ä»¤å¯ç”¨ï¼š
- `ralph` - å¯åŠ¨è‡ªä¸»å¼€å‘å¾ªç¯
- `ralph-monitor` - å¯åŠ¨ç›‘æ§ä»ªè¡¨æ¿
- `ralph-setup` - åˆ›å»ºæ–°é¡¹ç›®
- `ralph-enable` - åœ¨ç°æœ‰é¡¹ç›®ä¸­å¯ç”¨ Ralph
- `ralph-import` - å¯¼å…¥ PRD/è§„èŒƒæ–‡æ¡£
- `ralph-migrate` - è¿ç§»æ—§é¡¹ç›®ç»“æ„

#### ç¬¬äºŒé˜¶æ®µï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ˆæ¯ä¸ªé¡¹ç›®ï¼‰

**é€‰é¡¹ Aï¼šåœ¨ç°æœ‰é¡¹ç›®ä¸­å¯ç”¨ Ralphï¼ˆæ¨èï¼‰**

```bash
cd my-existing-project

# äº¤äº’å¼å‘å¯¼ - è‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç±»å‹å¹¶å¯¼å…¥ä»»åŠ¡
ralph-enable

# æˆ–æŒ‡å®šä»»åŠ¡æº
ralph-enable --from beads
ralph-enable --from github --label "sprint-1"
ralph-enable --from prd ./docs/requirements.md

# å¼€å§‹è‡ªä¸»å¼€å‘
ralph --monitor
```

**é€‰é¡¹ Bï¼šå¯¼å…¥ç°æœ‰ PRD/è§„èŒƒ**

```bash
# è½¬æ¢ç°æœ‰ PRD/è§„èŒƒä¸º Ralph æ ¼å¼
ralph-import my-requirements.md my-project
cd my-project

# å®¡æŸ¥å¹¶è°ƒæ•´ç”Ÿæˆçš„æ–‡ä»¶ï¼š
# - .ralph/PROMPT.md (Ralph æŒ‡ä»¤)
# - .ralph/fix_plan.md (ä»»åŠ¡ä¼˜å…ˆçº§)
# - .ralph/specs/requirements.md (æŠ€æœ¯è§„èŒƒ)

# å¼€å§‹è‡ªä¸»å¼€å‘
ralph --monitor
```

**é€‰é¡¹ Cï¼šä»å¤´åˆ›å»ºæ–°é¡¹ç›®**

```bash
# åˆ›å»ºç©ºç™½ Ralph é¡¹ç›®
ralph-setup my-awesome-project
cd my-awesome-project

# æ‰‹åŠ¨é…ç½®é¡¹ç›®éœ€æ±‚
# ç¼–è¾‘ .ralph/PROMPT.md è®¾ç½®é¡¹ç›®ç›®æ ‡
# ç¼–è¾‘ .ralph/specs/ æ·»åŠ è¯¦ç»†è§„èŒƒ
# ç¼–è¾‘ .ralph/fix_plan.md è®¾ç½®åˆå§‹ä¼˜å…ˆçº§

# å¼€å§‹è‡ªä¸»å¼€å‘
ralph --monitor
```

### 3.3 æ—¥å¸¸ä½¿ç”¨

ä¸€æ—¦ Ralph å·²å®‰è£…ä¸”é¡¹ç›®å·²åˆå§‹åŒ–ï¼š

```bash
# æ¨èï¼šé›†æˆ tmux ç›‘æ§
ralph --monitor

# æˆ–ä½¿ç”¨åˆ†ç¦»çš„ç»ˆç«¯
ralph                        # ç»ˆç«¯ 1ï¼šRalph å¾ªç¯
ralph-monitor               # ç»ˆç«¯ 2ï¼šå®æ—¶ç›‘æ§ä»ªè¡¨æ¿
```

### 3.4 å¸è½½

```bash
# è¿è¡Œå¸è½½è„šæœ¬
./uninstall.sh

# æˆ–è€…å¦‚æœå·²åˆ é™¤ä»“åº“ï¼š
curl -sL https://raw.githubusercontent.com/frankbria/ralph-claude-code/main/uninstall.sh | bash
```

---

## 4. é¡¹ç›®ç»“æ„

### 4.1 Ralph é¡¹ç›®ç›®å½•ç»“æ„

```
my-project/
â”œâ”€â”€ .ralph/                 # Ralph é…ç½®å’ŒçŠ¶æ€ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰
â”‚   â”œâ”€â”€ PROMPT.md           # ä¸»è¦å¼€å‘æŒ‡ä»¤
â”‚   â”œâ”€â”€ fix_plan.md        # ä¼˜å…ˆä»»åŠ¡åˆ—è¡¨
â”‚   â”œâ”€â”€ AGENT.md           # æ„å»ºå’Œè¿è¡ŒæŒ‡ä»¤
â”‚   â”œâ”€â”€ specs/              # é¡¹ç›®è§„èŒƒå’Œéœ€æ±‚
â”‚   â”‚   â””â”€â”€ stdlib/         # æ ‡å‡†åº“è§„èŒƒ
â”‚   â”œâ”€â”€ examples/           # ä½¿ç”¨ç¤ºä¾‹å’Œæµ‹è¯•ç”¨ä¾‹
â”‚   â”œâ”€â”€ logs/               # Ralph æ‰§è¡Œæ—¥å¿—
â”‚   â”‚   â””â”€â”€ ralph.log      # ä¸»æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ .ralph_session      # ä¼šè¯çŠ¶æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ .ralph_session_history  # ä¼šè¯è½¬æ¢å†å²
â”‚   â”œâ”€â”€ .response_analysis  # å“åº”åˆ†æç»“æœ
â”‚   â””â”€â”€ docs/generated/     # è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£
â”œâ”€â”€ .ralphrc                # Ralph é…ç½®æ–‡ä»¶
â””â”€â”€ src/                    # æºä»£ç å®ç°ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
```

### 4.2 å…³é”®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è‡ªåŠ¨ç”Ÿæˆï¼Ÿ | ä½ åº”è¯¥... |
|------|-----------|----------|
| `.ralph/PROMPT.md` | æ˜¯ï¼ˆæ™ºèƒ½é»˜è®¤å€¼ï¼‰ | **å®¡æŸ¥å¹¶è‡ªå®šä¹‰**é¡¹ç›®ç›®æ ‡å’ŒåŸåˆ™ |
| `.ralph/fix_plan.md` | æ˜¯ï¼ˆå¯å¯¼å…¥ä»»åŠ¡ï¼‰ | **æ·»åŠ /ä¿®æ”¹**å…·ä½“å®ç°ä»»åŠ¡ |
| `.ralph/AGENT.md` | æ˜¯ï¼ˆæ£€æµ‹æ„å»ºå‘½ä»¤ï¼‰ | å¾ˆå°‘ç¼–è¾‘ï¼ˆç”± Ralph è‡ªåŠ¨ç»´æŠ¤ï¼‰ |
| `.ralph/specs/` | ç©ºç›®å½• | å½“ PROMPT.md ä¸å¤Ÿè¯¦ç»†æ—¶æ·»åŠ æ–‡ä»¶ |
| `.ralph/specs/stdlib/` | ç©ºç›®å½• | æ·»åŠ å¯é‡ç”¨çš„æ¨¡å¼å’Œçº¦å®š |
| `.ralphrc` | æ˜¯ï¼ˆé¡¹ç›®æ„ŸçŸ¥ï¼‰ | å¾ˆå°‘ç¼–è¾‘ï¼ˆåˆç†çš„é»˜è®¤å€¼ï¼‰ |

### 4.3 æ–‡ä»¶å…³ç³»

```
PROMPT.md (é«˜å±‚ç›®æ ‡)
    â†“
specs/ (è¯¦ç»†éœ€æ±‚ï¼ŒæŒ‰éœ€æ·»åŠ )
    â†“
fix_plan.md (Ralph æ‰§è¡Œçš„å…·ä½“ä»»åŠ¡)
    â†“
AGENT.md (æ„å»º/æµ‹è¯•å‘½ä»¤ - è‡ªåŠ¨ç»´æŠ¤)
```

---

## 5. é…ç½®è¯¦è§£

### 5.1 `.ralphrc` é…ç½®æ–‡ä»¶

```bash
# .ralphrc - Ralph é¡¹ç›®é…ç½®
PROJECT_NAME="my-project"
PROJECT_TYPE="typescript"

# å¾ªç¯è®¾ç½®
MAX_CALLS_PER_HOUR=100
CLAUDE_TIMEOUT_MINUTES=15
CLAUDE_OUTPUT_FORMAT="json"

# å·¥å…·æƒé™
ALLOWED_TOOLS="Write,Read,Edit,Bash(git *),Bash(npm *),Bash(pytest)"

# ä¼šè¯ç®¡ç†
SESSION_CONTINUITY=true
SESSION_EXPIRY_HOURS=24

# æ–­è·¯å™¨é˜ˆå€¼
CB_NO_PROGRESS_THRESHOLD=3
CB_SAME_ERROR_THRESHOLD=5
CB_COOLDOWN_MINUTES=30
```

### 5.2 å‘½ä»¤è¡Œé€‰é¡¹

```bash
ralph [é€‰é¡¹]

åŸºæœ¬é€‰é¡¹ï¼š
  -h, --help              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -m, --monitor           ä½¿ç”¨ tmux ä¼šè¯å¯åŠ¨å¹¶å®æ—¶ç›‘æ§
  -v, --verbose           æ˜¾ç¤ºè¯¦ç»†çš„è¿›åº¦æ›´æ–°
  -s, --status            æ˜¾ç¤ºå½“å‰çŠ¶æ€å¹¶é€€å‡º

é€Ÿç‡å’Œè¶…æ—¶ï¼š
  -c, --calls NUM         è®¾ç½®æ¯å°æ—¶æœ€å¤§è°ƒç”¨æ¬¡æ•°ï¼ˆé»˜è®¤ï¼š100ï¼‰
  -t, --timeout MIN       è®¾ç½® Claude Code æ‰§è¡Œè¶…æ—¶ï¼ˆ1-120 åˆ†é’Ÿï¼Œé»˜è®¤ï¼š15ï¼‰

é…ç½®ï¼š
  -p, --prompt FILE       è®¾ç½®æç¤ºæ–‡ä»¶ï¼ˆé»˜è®¤ï¼šPROMPT.mdï¼‰
  --output-format FORMAT  è®¾ç½®è¾“å‡ºæ ¼å¼ï¼šjsonï¼ˆé»˜è®¤ï¼‰æˆ– text
  --allowed-tools TOOLS   è®¾ç½®å…è®¸çš„ Claude å·¥å…·

ä¼šè¯ç®¡ç†ï¼š
  --no-continue           ç¦ç”¨ä¼šè¯è¿ç»­æ€§ï¼ˆæ¯æ¬¡å¾ªç¯é‡æ–°å¼€å§‹ï¼‰
  --reset-session         æ‰‹åŠ¨é‡ç½®ä¼šè¯çŠ¶æ€

æ–­è·¯å™¨ï¼š
  --reset-circuit         é‡ç½®æ–­è·¯å™¨
  --circuit-status        æ˜¾ç¤ºæ–­è·¯å™¨çŠ¶æ€
  --auto-reset-circuit    å¯åŠ¨æ—¶è‡ªåŠ¨é‡ç½®æ–­è·¯å™¨ï¼ˆç»•è¿‡å†·å´ï¼‰

è¾“å‡ºï¼š
  -l, --live              å¯ç”¨å®æ—¶æµå¼è¾“å‡ºï¼ˆå®æ—¶ Claude Code å¯è§æ€§ï¼‰
```

### 5.3 å¸¸ç”¨å‘½ä»¤ç»„åˆ

```bash
# æ ‡å‡†å¼€å‘å¾ªç¯ï¼ˆæ¨èï¼‰
ralph --monitor

# å¿«é€Ÿè¿­ä»£ï¼ˆä½è°ƒç”¨é™åˆ¶ï¼‰
ralph --monitor --calls 20 --timeout 5

# å¤æ‚ä»»åŠ¡ï¼ˆé«˜è¶…æ—¶ï¼‰
ralph --monitor --timeout 60

# è°ƒè¯•æ¨¡å¼ï¼ˆè¯¦ç»†è¾“å‡º + å®æ—¶æµï¼‰
ralph --verbose --live

# é‡æ–°å¼€å§‹ï¼ˆæ¸…é™¤ä¼šè¯ï¼‰
ralph --reset-session --monitor

# æ¢å¤æ–­è·¯å™¨åç»§ç»­
ralph --reset-circuit --monitor
```

---

## 6. å·¥ä½œåŸç†

### 6.1 Ralph å¾ªç¯è¯¦è§£

```mermaid
graph TD
    A[å¼€å§‹å¾ªç¯] --> B[è¯»å– PROMPT.md]
    B --> C[è¯»å– fix_plan.md]
    C --> D[æ„å»ºå¾ªç¯ä¸Šä¸‹æ–‡]
    D --> E[æ‰§è¡Œ Claude Code]
    E --> F[è§£æå“åº”]
    F --> G{æ£€æŸ¥é€€å‡ºæ¡ä»¶}
    G -->|æ»¡è¶³| H[é€€å‡ºå¾ªç¯]
    G -->|ä¸æ»¡è¶³| I{æ£€æŸ¥æ–­è·¯å™¨}
    I -->|OPEN| H
    I -->|CLOSED/HALF_OPEN| J[æ›´æ–°çŠ¶æ€]
    J --> K[è®°å½•æ—¥å¿—]
    K --> L{è¾¾åˆ°é€Ÿç‡é™åˆ¶?}
    L -->|æ˜¯| M[ç­‰å¾…é‡ç½®]
    L -->|å¦| A
    M --> A
```

### 6.2 å“åº”åˆ†æå™¨

Ralph ä½¿ç”¨æ™ºèƒ½å“åº”åˆ†æå™¨æ¥ç†è§£ Claude Code çš„è¾“å‡ºï¼š

**åˆ†æå†…å®¹ï¼š**
- å·¥ä½œç±»å‹ï¼ˆfeature/refactor/test/fixï¼‰
- ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨
- é€€å‡ºä¿¡å·
- å®ŒæˆæŒ‡ç¤ºå™¨
- é”™è¯¯æ£€æµ‹

**JSON æ ¼å¼æ”¯æŒï¼š**
```json
{
  "result": "...",
  "sessionId": "...",
  "metadata": {
    "status": "in_progress",
    "exit_signal": false,
    "work_type": "feature",
    "files_modified": ["src/index.ts"]
  }
}
```

### 6.3 ä¼šè¯è¿ç»­æ€§

Ralph ç»´æŠ¤ä¼šè¯ä¸Šä¸‹æ–‡ä»¥æé«˜è¿è´¯æ€§ï¼š

```bash
# ä¼šè¯æ–‡ä»¶ç¤ºä¾‹ï¼š.ralph/.ralph_session
{
  "session_id": "abc123...",
  "created_at": "2026-02-21T10:00:00Z",
  "expires_at": "2026-02-22T10:00:00Z",
  "loop_count": 5
}
```

**ä¼šè¯ç”Ÿå‘½å‘¨æœŸï¼š**
1. åˆ›å»º - ç¬¬ä¸€æ¬¡å¾ªç¯æ—¶
2. ä½¿ç”¨ - æ¯æ¬¡å¾ªç¯ä½¿ç”¨ `--continue` æ ‡å¿—
3. è¿‡æœŸ - 24 å°æ—¶åè‡ªåŠ¨è¿‡æœŸ
4. é‡ç½® - æ‰‹åŠ¨æˆ–è‡ªåŠ¨è§¦å‘é‡ç½®

---

## 7. æœ€ä½³å®è·µ

### 7.1 ç¼–å†™æœ‰æ•ˆçš„ PROMPT.md

```markdown
# é¡¹ç›®ç›®æ ‡
[æ¸…æ™°æè¿°é¡¹ç›®çš„æœ€ç»ˆç›®æ ‡]

# æ ¸å¿ƒåŸåˆ™
1. å…·ä½“æ€§ - æ¸…æ™°çš„éœ€æ±‚å¸¦æ¥æ›´å¥½çš„ç»“æœ
2. ä¼˜å…ˆçº§ - ä½¿ç”¨ fix_plan.md æŒ‡å¯¼ Ralph çš„ç„¦ç‚¹
3. è¾¹ç•Œ - å®šä¹‰ä»€ä¹ˆåœ¨èŒƒå›´å†…/å¤–
4. ç¤ºä¾‹ - å±•ç¤ºé¢„æœŸçš„è¾“å…¥/è¾“å‡º

# æŠ€æœ¯æ ˆ
[åˆ—å‡ºä½¿ç”¨çš„æŠ€æœ¯å’Œæ¡†æ¶]

# å¼€å‘çº¦å®š
[ä»£ç é£æ ¼ã€å‘½åçº¦å®šç­‰]
```

### 7.2 ç®¡ç† fix_plan.md

```markdown
# ä¼˜å…ˆä»»åŠ¡

## é«˜ä¼˜å…ˆçº§
- [ ] å®ç°ç”¨æˆ·è®¤è¯
- [ ] æ·»åŠ æ•°æ®åº“æ¨¡å‹
- [ ] åˆ›å»º API ç«¯ç‚¹

## ä¸­ä¼˜å…ˆçº§
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] å®ç°é”™è¯¯å¤„ç†

## ä½ä¼˜å…ˆçº§
- [ ] ä¼˜åŒ–æ€§èƒ½
- [ ] æ·»åŠ æ–‡æ¡£
```

### 7.3 é¡¹ç›®è§„èŒƒç»„ç»‡

```
.ralph/specs/
â”œâ”€â”€ architecture.md      # æ¶æ„å†³ç­–
â”œâ”€â”€ api-design.md        # API è®¾è®¡è§„èŒƒ
â”œâ”€â”€ database-schema.md   # æ•°æ®åº“æ¨¡å¼
â””â”€â”€ stdlib/
    â”œâ”€â”€ error-handling.md  # é”™è¯¯å¤„ç†æ¨¡å¼
    â””â”€â”€ testing.md         # æµ‹è¯•çº¦å®š
```

### 7.4 ç›‘æ§è¿›åº¦

```bash
# å®æ—¶ç›‘æ§
ralph --monitor

# æŸ¥çœ‹æ—¥å¿—
tail -f .ralph/logs/ralph.log

# æ£€æŸ¥çŠ¶æ€
cat .ralph/status.json | jq

# æŸ¥çœ‹ä¼šè¯å†å²
cat .ralph/.ralph_session_history
```

---

## 8. å¸¸è§é—®é¢˜å’Œæ•…éšœæ’é™¤

### 8.1 å¸¸è§é—®é¢˜

#### Q1: Ralph è¿‡æ—©é€€å‡º
**åŸå› **ï¼šé€€å‡ºé˜ˆå€¼è®¾ç½®è¿‡ä½
**è§£å†³**ï¼šè°ƒæ•´ `.ralphrc` ä¸­çš„é˜ˆå€¼å‚æ•°

#### Q2: å¾ªç¯å¡åœ¨ç›¸åŒé”™è¯¯
**åŸå› **ï¼šæ–­è·¯å™¨æ£€æµ‹åˆ°é‡å¤é”™è¯¯
**è§£å†³**ï¼š
```bash
# æŸ¥çœ‹æ–­è·¯å™¨çŠ¶æ€
ralph --circuit-status

# é‡ç½®æ–­è·¯å™¨
ralph --reset-circuit --monitor
```

#### Q3: æƒé™è¢«æ‹’ç»
**åŸå› **ï¼š`ALLOWED_TOOLS` é…ç½®ä¸åŒ…å«æ‰€éœ€å·¥å…·
**è§£å†³**ï¼šç¼–è¾‘ `.ralphrc`ï¼š
```bash
ALLOWED_TOOLS="Write,Read,Edit,Bash(git *),Bash(npm *),Bash(pytest)"
```

#### Q4: ä¼šè¯è¿‡æœŸ
**åŸå› **ï¼š24 å°æ—¶æœªä½¿ç”¨
**è§£å†³**ï¼š
```bash
ralph --reset-session --monitor
```

#### Q5: macOS ä¸Š timeout å‘½ä»¤æœªæ‰¾åˆ°
**åŸå› **ï¼šç¼ºå°‘ GNU coreutils
**è§£å†³**ï¼š
```bash
brew install coreutils
gtimeout --version  # éªŒè¯å®‰è£…
```

### 8.2 è°ƒè¯•æŠ€å·§

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
ralph --verbose --live

# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
grep -i error .ralph/logs/ralph.log | tail -20

# æ£€æŸ¥ Claude å“åº”
cat .ralph/.response_analysis | jq

# æŸ¥çœ‹ä¼šè¯çŠ¶æ€
cat .ralph/.ralph_session | jq

# ç›‘æ§å¾ªç¯æ‰§è¡Œ
watch -n 5 'cat .ralph/status.json | jq'
```

### 8.3 tmux ä¼šè¯ç®¡ç†

```bash
# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
tmux list-sessions

# é‡æ–°è¿æ¥
tmux attach -t <session-name>

# åœ¨ tmux å†…çš„å¿«æ·é”®
Ctrl+B ç„¶å D    # åˆ†ç¦»ä¼šè¯ï¼ˆä¿æŒè¿è¡Œï¼‰
Ctrl+B ç„¶å â†/â†’  # åˆ‡æ¢çª—æ ¼
Ctrl+B ç„¶å [    # æ»šåŠ¨æ¨¡å¼ï¼ˆq é€€å‡ºï¼‰
```

---

## 9. é«˜çº§ç‰¹æ€§

### 9.1 è‡ªå®šä¹‰è¶…æ—¶

```bash
# çŸ­è¶…æ—¶é€‚åˆå¿«é€Ÿè¿­ä»£
ralph --timeout 5

# é•¿è¶…æ—¶é€‚åˆå¤æ‚ä»»åŠ¡
ralph --timeout 60
```

### 9.2 å®æ—¶æµå¼è¾“å‡º

```bash
# å¯ç”¨å®æ—¶è¾“å‡º
ralph --live --monitor

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯æŸ¥çœ‹
tail -f .ralph/live.log
```

### 9.3 æ–­è·¯å™¨è‡ªåŠ¨æ¢å¤

```bash
# é…ç½®å†·å´æ—¶é—´ï¼ˆ.ralphrcï¼‰
CB_COOLDOWN_MINUTES=30    # OPEN â†’ HALF_OPEN çš„åˆ†é’Ÿæ•°

# å¯ç”¨è‡ªåŠ¨é‡ç½®ï¼ˆç»•è¿‡å†·å´ï¼‰
CB_AUTO_RESET=true

# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œæ ‡å¿—
ralph --auto-reset-circuit --monitor
```

### 9.4 ä¼šè¯ç®¡ç†

```bash
# ç¦ç”¨ä¼šè¯è¿ç»­æ€§
ralph --no-continue

# æ£€æŸ¥ä¼šè¯ä¿¡æ¯
cat .ralph/.ralph_session

# æ‰‹åŠ¨é‡ç½®ä¼šè¯
ralph --reset-session
```

---

## 10. å¼€å‘å’Œè´¡çŒ®

### 10.1 æµ‹è¯•å¥—ä»¶

```bash
# å®‰è£…æµ‹è¯•æ¡†æ¶
npm install -g bats bats-support bats-assert

# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆ484 ä¸ªï¼‰
npm test

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
bats tests/unit/test_cli_parsing.bats
```

### 10.2 æµ‹è¯•è¦†ç›–

| æµ‹è¯•æ–‡ä»¶ | æµ‹è¯•æ•° | è¦†ç›–èŒƒå›´ |
|---------|--------|---------|
| test_cli_parsing.bats | 35 | CLI å‚æ•°è§£æ |
| test_json_parsing.bats | 52 | JSON è¾“å‡ºæ ¼å¼è§£æ |
| test_exit_detection.bats | 53 | é€€å‡ºä¿¡å·æ£€æµ‹ |
| test_session_continuity.bats | 44 | ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç† |
| test_circuit_breaker_recovery.bats | 19 | æ–­è·¯å™¨è‡ªåŠ¨æ¢å¤ |
| ... | ... | ... |
| **æ€»è®¡** | **484** | **100% é€šè¿‡ç‡** |

### 10.3 è´¡çŒ®æµç¨‹

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/my-feature`
3. ç¼–å†™ä»£ç å’Œæµ‹è¯•
4. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š`npm test`
5. æäº¤æ›´æ”¹ï¼š`git commit -m "feat: add my feature"`
6. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/my-feature`
7. åˆ›å»º Pull Request

---

## 11. è·¯çº¿å›¾

### 11.1 å½“å‰çŠ¶æ€ï¼ˆv0.11.4ï¼‰

âœ… å·²å®Œæˆï¼š
- æ ¸å¿ƒå¾ªç¯åŠŸèƒ½
- æ™ºèƒ½é€€å‡ºæ£€æµ‹
- é€Ÿç‡é™åˆ¶å’Œæ–­è·¯å™¨
- ä¼šè¯ç®¡ç†
- 484 ä¸ªæµ‹è¯•ï¼ˆ100% é€šè¿‡ï¼‰
- tmux é›†æˆ
- PRD å¯¼å…¥
- ralph-enable å‘å¯¼
- å®æ—¶æµå¼è¾“å‡º

### 11.2 è®¡åˆ’åŠŸèƒ½ï¼ˆv1.0.0 å‰ï¼‰

ğŸš§ è¿›è¡Œä¸­ï¼š
- æ—¥å¿—è½®è½¬åŠŸèƒ½
- å¹²è¿è¡Œæ¨¡å¼
- æŒ‡æ ‡å’Œåˆ†æè·Ÿè¸ª
- æ¡Œé¢é€šçŸ¥
- Git å¤‡ä»½å’Œå›æ»šç³»ç»Ÿ

ğŸ“… æ—¶é—´çº¿ï¼šçº¦ 4 å‘¨åˆ° v1.0.0

---

## 12. ç›¸å…³èµ„æº

### 12.1 å®˜æ–¹é“¾æ¥

- **GitHub ä»“åº“**ï¼šhttps://github.com/frankbria/ralph-claude-code
- **Issue è¿½è¸ª**ï¼šhttps://github.com/frankbria/ralph-claude-code/issues
- **Claude Code**ï¼šhttps://claude.ai/code

### 12.2 æ–‡æ¡£

- [README.md](README.md) - ä¸»è¦æ–‡æ¡£
- [CONTRIBUTING.md](CONTRIBUTING.md) - è´¡çŒ®æŒ‡å—
- [IMPLEMENTATION_PLAN.md](IMPLEMENTATION_PLAN.md) - å®ç°è®¡åˆ’
- [TESTING.md](TESTING.md) - æµ‹è¯•æŒ‡å—

### 12.3 ç›¸å…³é¡¹ç›®

- **Claude Code** - Ralph çš„ AI å¼•æ“
- **Aider** - åŸå§‹ Ralph æŠ€æœ¯å®ç°
- **Geoffrey Huntley çš„ Ralph** - çµæ„Ÿæ¥æº

---

## 13. æ€»ç»“

Ralph for Claude Code æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è‡ªä¸»å¼€å‘å·¥å…·ï¼Œå®ƒé€šè¿‡ä»¥ä¸‹æ–¹å¼æå‡å¼€å‘æ•ˆç‡ï¼š

1. **è‡ªåŠ¨åŒ–è¿­ä»£**ï¼šæ— éœ€æ‰‹åŠ¨å¹²é¢„çš„æŒç»­å¼€å‘
2. **æ™ºèƒ½å†³ç­–**ï¼šåŒæ¡ä»¶é€€å‡ºæœºåˆ¶é˜²æ­¢è¿‡æ—©æˆ–è¿‡æ™šç»ˆæ­¢
3. **å®‰å…¨ä¿æŠ¤**ï¼šé€Ÿç‡é™åˆ¶å’Œæ–­è·¯å™¨é˜²æ­¢èµ„æºæµªè´¹
4. **çµæ´»é…ç½®**ï¼šä¸°å¯Œçš„é…ç½®é€‰é¡¹é€‚åº”ä¸åŒé¡¹ç›®éœ€æ±‚
5. **å®Œå–„æµ‹è¯•**ï¼š484 ä¸ªæµ‹è¯•ç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§

### å¿«é€Ÿå¼€å§‹æé†’

```bash
# 1. å®‰è£…ï¼ˆä¸€æ¬¡æ€§ï¼‰
./install.sh

# 2. åœ¨é¡¹ç›®ä¸­å¯ç”¨
cd your-project
ralph-enable

# 3. å¼€å§‹å¼€å‘
ralph --monitor
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0
**æœ€åæ›´æ–°**ï¼š2026-02-21
**é€‚ç”¨ Ralph ç‰ˆæœ¬**ï¼šv0.11.4
